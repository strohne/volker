<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction • volker</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">volker</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/introduction.html">Introduction</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/strohne/volker/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.youtube.com/@volkerpackage" aria-label="YouTube"><span class="fa fa-youtube"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/strohne/volker/blob/main/vignettes/introduction.Rmd" class="external-link"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="d-none name"><code>introduction.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="how-to-use-the-volker-package">How to use the volkeR package?<a class="anchor" aria-label="anchor" href="#how-to-use-the-volker-package"></a>
</h3>
<p>First, load the package, set the plot theme and get some data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/strohne/volker" class="external-link">volker</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the basic plot theme</span></span>
<span><span class="fu"><a href="../reference/theme_set.html">theme_set</a></span><span class="op">(</span><span class="fu"><a href="../reference/theme_vlkr.html">theme_vlkr</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load an example dataset ds from the package</span></span>
<span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">volker</span><span class="fu">::</span><span class="va"><a href="../reference/chatgpt.html">chatgpt</a></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="how-to-generate-tables-and-plots">How to generate tables and plots?<a class="anchor" aria-label="anchor" href="#how-to-generate-tables-and-plots"></a>
</h3>
<p>Decide whether your data is categorical or metric and choose the
appropriate function:</p>
<ul>
<li>
<code><a href="../reference/report_counts.html">report_counts()</a></code> shows frequency tables and generates
simple and stacked bar charts.</li>
<li>
<code><a href="../reference/report_metrics.html">report_metrics()</a></code> creates tables with distribution
parameters, visualises distributions in density plots, box plots or
scatter plots.</li>
</ul>
<p>Report functions, under the hood, call functions that generate plots,
tables or calculate effects. If you only need one of those outputs, you
can call the functions directly:</p>
<ul>
<li>
<code><a href="../reference/tab_counts.html">tab_counts()</a></code>, <code><a href="../reference/plot_counts.html">plot_counts()</a></code> or
<code><a href="../reference/effect_counts.html">effect_counts()</a></code> for categorical data.</li>
<li>
<code><a href="../reference/tab_metrics.html">tab_metrics()</a></code>, <code><a href="../reference/plot_metrics.html">plot_metrics()</a></code> or
<code><a href="../reference/effect_metrics.html">effect_metrics()</a></code> for metric data.</li>
</ul>
<p>All functions expect a dataset as their first parameter. The second
and third parameters await your column selections. The column selections
determine whether to analyse single variables, item lists or to compare
and correlate multiple variables.</p>
<p><em>Try out the following examples!</em></p>
<div class="section level4">
<h4 id="categorical-variables">Categorical variables<a class="anchor" aria-label="anchor" href="#categorical-variables"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A single variable</span></span>
<span><span class="fu"><a href="../reference/report_counts.html">report_counts</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">use_private</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A list of variables</span></span>
<span><span class="fu"><a href="../reference/report_counts.html">report_counts</a></span><span class="op">(</span><span class="va">ds</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">use_private</span>, <span class="va">use_work</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Variables matched by a pattern</span></span>
<span><span class="fu"><a href="../reference/report_counts.html">report_counts</a></span><span class="op">(</span><span class="va">ds</span>, <span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"use_"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You can use all sorts of tidyverse style selections: A single column,
a list of columns or patterns such as <code><a href="../reference/starts_with.html">starts_with()</a></code>,
<code><a href="../reference/ends_with.html">ends_with()</a></code>, <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains()</a></code> or
<code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches()</a></code>.</p>
</div>
<div class="section level4">
<h4 id="metric-variables">Metric variables<a class="anchor" aria-label="anchor" href="#metric-variables"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># One metric variable</span></span>
<span><span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">sd_age</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Multiple metric items</span></span>
<span><span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">ds</span>, <span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption_"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="cross-tabulation-and-group-comparison">Cross tabulation and group comparison<a class="anchor" aria-label="anchor" href="#cross-tabulation-and-group-comparison"></a>
</h4>
<p>Provide a grouping column in the third parameter to compare different
groups.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/report_counts.html">report_counts</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">adopter</span>, <span class="va">sd_gender</span><span class="op">)</span></span></code></pre></div>
<p>For metric variables, you can compare the mean values.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">sd_age</span>, <span class="va">sd_gender</span><span class="op">)</span></span></code></pre></div>
<p>By default, the crossing variable is treated as categorical. You can
change this behavior using the metric-parameter to calculate
correlations:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">sd_age</span>, <span class="va">use_work</span>, metric <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The ci parameter, where possible, adds confidence intervals to the
outputs.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/filter.html">filter</a></span><span class="op">(</span><span class="va">sd_gender</span> <span class="op">!=</span> <span class="st">"diverse"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">sd_age</span>, <span class="va">sd_gender</span>, ci <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Conduct statistical tests with the <code>effect</code>-parameter.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/filter.html">filter</a></span><span class="op">(</span><span class="va">sd_gender</span> <span class="op">!=</span> <span class="st">"diverse"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/report_counts.html">report_counts</a></span><span class="op">(</span><span class="va">adopter</span>, <span class="va">sd_gender</span>, effect <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>See the function help (F1 key) to learn more options. For example,
you can use the <code>prop</code> parameter to grow bars to 100%. The
<code>numbers</code> parameter prints frequencies and percentages onto
the bars.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/filter.html">filter</a></span><span class="op">(</span><span class="va">sd_gender</span> <span class="op">!=</span> <span class="st">"diverse"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/report_counts.html">report_counts</a></span><span class="op">(</span><span class="va">adopter</span>, <span class="va">sd_gender</span>, prop<span class="op">=</span><span class="st">"rows"</span>, numbers<span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="theming">Theming<a class="anchor" aria-label="anchor" href="#theming"></a>
</h2>
<p>The <code><a href="../reference/theme_vlkr.html">theme_vlkr()</a></code>-function lets you customise colors:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/theme_set.html">theme_set</a></span><span class="op">(</span><span class="fu"><a href="../reference/theme_vlkr.html">theme_vlkr</a></span><span class="op">(</span></span>
<span>  base_fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#F0983A"</span>,<span class="st">"#3ABEF0"</span>,<span class="st">"#95EF39"</span>,<span class="st">"#E35FF5"</span>,<span class="st">"#7A9B59"</span><span class="op">)</span>,</span>
<span>  base_gradient <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FAE2C4"</span>,<span class="st">"#F0983A"</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="labeling">Labeling<a class="anchor" aria-label="anchor" href="#labeling"></a>
</h2>
<p>Labels used in plots and tables are stored in the comment attribute
of the variable. You can inspect all labels using the
<code><a href="../reference/codebook.html">codebook()</a></code>-function:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">ds</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 97 × 6</span></span></span>
<span><span class="co">#&gt;    item_name     item_group item_class item_label         value_name value_label</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> case          case       numeric    case               <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> sd_age        sd         numeric    Age                <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> cg_activities cg         character  Activities with C… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> cg_act_write  cg         character  cg_act_write       <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> cg_act_test   cg         character  cg_act_test        <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> cg_act_search cg         character  cg_act_search      <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> adopter       adopter    factor     Innovator type     I try new… I try new …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> adopter       adopter    factor     Innovator type     I try new… I try new …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> adopter       adopter    factor     Innovator type     I wait un… I wait unt…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> adopter       adopter    factor     Innovator type     I only us… I only use…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 87 more rows</span></span></span></code></pre></div>
<p>Set specific column labels by providing a named list to the
items-parameter of <code><a href="../reference/labs_apply.html">labs_apply()</a></code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/labs_apply.html">labs_apply</a></span><span class="op">(</span></span>
<span>    items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"cg_adoption_advantage_01"</span> <span class="op">=</span> <span class="st">"General advantages"</span>,</span>
<span>      <span class="st">"cg_adoption_advantage_02"</span> <span class="op">=</span> <span class="st">"Financial advantages"</span>,</span>
<span>      <span class="st">"cg_adoption_advantage_03"</span> <span class="op">=</span> <span class="st">"Work-related advantages"</span>,</span>
<span>      <span class="st">"cg_adoption_advantage_04"</span> <span class="op">=</span> <span class="st">"More fun"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption_advantage_"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Labels for values inside a column can be adjusted by providing a
named list to the values-parameter of <code><a href="../reference/labs_apply.html">labs_apply()</a></code>. In
addition, select the columns where value labels should be changed:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/labs_apply.html">labs_apply</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span>,  </span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"1"</span> <span class="op">=</span> <span class="st">"Strongly disagree"</span>,</span>
<span>      <span class="st">"2"</span> <span class="op">=</span> <span class="st">"Disagree"</span>,</span>
<span>      <span class="st">"3"</span> <span class="op">=</span> <span class="st">"Neutral"</span>,</span>
<span>      <span class="st">"4"</span> <span class="op">=</span> <span class="st">"Agree"</span>,</span>
<span>      <span class="st">"5"</span> <span class="op">=</span> <span class="st">"Strongly agree"</span></span>
<span>    <span class="op">)</span> </span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>To conveniently manage all labels of a dataset, save the result of
<code><a href="../reference/codebook.html">codebook()</a></code> to an Excel file, change the labels manually in
a copy of the Excel file, and finally call <code><a href="../reference/labs_apply.html">labs_apply()</a></code>
with your revised codebook.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org" class="external-link">readxl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ropensci.r-universe.dev/writexl" class="external-link">writexl</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save codebook to a file</span></span>
<span><span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/codebook.html">codebook</a></span><span class="op">(</span><span class="va">ds</span><span class="op">)</span></span>
<span><span class="fu">write_xlsx</span><span class="op">(</span><span class="va">codes</span>,<span class="st">"codebook.xlsx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load and apply a codebook from a file</span></span>
<span><span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_xlsx</a></span><span class="op">(</span><span class="st">"codebook_revised.xlsx"</span><span class="op">)</span></span>
<span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/labs_apply.html">labs_apply</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">codebook</span><span class="op">)</span></span></code></pre></div>
<p>Be aware that some data operations such as <code><a href="../reference/mutate.html">mutate()</a></code> from
the tidyverse loose labels on their way. In this case, store the labels
(in the codebook attribute of the data frame) before the operation and
restore them afterwards:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/labs_store.html">labs_store</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/mutate.html">mutate</a></span><span class="op">(</span>sd_age <span class="op">=</span> <span class="fl">2024</span> <span class="op">-</span> <span class="va">sd_age</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/labs_restore.html">labs_restore</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">sd_age</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="the-volker-report-template">The volker report template<a class="anchor" aria-label="anchor" href="#the-volker-report-template"></a>
</h3>
<p>Reports combine plots, tables and effect calculations in an RMarkdown
document. Optionally, for item batteries, an index, clusters or factors
are calculated and reported.</p>
<p>To see an example or develop own reports, use the volker report
template in RStudio:</p>
<ul>
<li>Create a new R Markdown document from the main menu<br>
</li>
<li>In the popup select the “From Template” option<br>
</li>
<li>Select the volker template.<br>
</li>
<li>The template contains a working example. Just click knit to see the
result.</li>
</ul>
<p>Have fun with developing own reports!</p>
<p>Without the template, to generate a volker-report from any R-Markdown
document, add <code><a href="../reference/html_report.html">volker::html_report</a></code> to the output options of
your Markdown document:</p>
<pre><code>---
title: "How to create reports?"
output: 
  volker::html_report
---</code></pre>
<p>Then, you can generate combined outputs using the report-functions.
One advantage of the report-functions is that plots are automatically
scaled to fit the page. See the function help for further options (F1
key).</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; ```{r echo=FALSE}</span></span>
<span><span class="co">#&gt; ds %&gt;% </span></span>
<span><span class="co">#&gt;   filter(sd_gender != "diverse") %&gt;% </span></span>
<span><span class="co">#&gt;   report_counts(adopter, sd_gender, </span></span>
<span><span class="co">#&gt; ```</span></span></code></pre></div>
<div class="section level4">
<h4 id="custom-tab-sheets">Custom tab sheets<a class="anchor" aria-label="anchor" href="#custom-tab-sheets"></a>
</h4>
<p>By default, a header and tabsheets are automatically created. You can
mix in custom content.</p>
<ul>
<li>If you want to add content before the report outputs, set the title
parameter to <code>FALSE</code> and add your own title.</li>
<li>A good place for methodological details is a custom tabsheet next to
the “Plot” and the “Table” buttons. You can add a tab by setting the
close-parameter to <code>FALSE</code> and adding a new header on the
fifth level (5 x # followed by the tab name). Close your custom new
tabsheet with <code>#### {-}</code> (4 x #).</li>
</ul>
<p>Try out the following pattern in an RMarkdown document!</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; ### Adoption types</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ```{r echo=FALSE}</span></span>
<span><span class="co">#&gt; ds %&gt;% </span></span>
<span><span class="co">#&gt;   filter(sd_gender != "diverse") %&gt;% </span></span>
<span><span class="co">#&gt;   report_counts(adopter, sd_gender, prop="rows", title=FALSE, close=FALSE)</span></span>
<span><span class="co">#&gt; ```</span></span>
<span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt; ##### Method</span></span>
<span><span class="co">#&gt; Basis: Only male and female respondents.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; #### {-}</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="index-calculation-for-item-batteries">Index calculation for item batteries<a class="anchor" aria-label="anchor" href="#index-calculation-for-item-batteries"></a>
</h2>
<p>For quick inspections of an index from a bunch of items, set the
index parameter to <code>TRUE</code>. The index is calculated by the
average value of all selected columns.</p>
<p>Cronbach’s Alpha and the number of items are calculated with
<code><a href="https://rdrr.io/pkg/psych/man/alpha.html" class="external-link">psych::alpha()</a></code> and stored as column attribute named
“psych.alpha”. The reliability values are printed by
<code><a href="../reference/report_metrics.html">report_metrics()</a></code>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span>, index <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>You can add an index as a new column using <code><a href="../reference/add_index.html">add_index()</a></code>.
A new column is created with the average value of all selected columns
for each case. Provide a custom name for the column using the
<code>newcol</code> parameter. The <code><a href="../reference/report_metrics.html">report_metrics()</a></code>
function still outputs reliability values for the column.</p>
<p><strong>Add a single index</strong></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_index.html">add_index</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption_"</span><span class="op">)</span>, newcol <span class="op">=</span> <span class="st">"idx_cg_adoption"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">idx_cg_adoption</span><span class="op">)</span></span></code></pre></div>
<p><strong>Compare the index values by group</strong></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_index.html">add_index</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption_"</span><span class="op">)</span>, newcol <span class="op">=</span> <span class="st">"idx_cg_adoption"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">idx_cg_adoption</span>, <span class="va">adopter</span><span class="op">)</span></span></code></pre></div>
<p><strong>Add multiple indizes and summarize them</strong></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_index.html">add_index</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption_"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_index.html">add_index</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption_advantage"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_index.html">add_index</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption_fearofuse"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_index.html">add_index</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption_social"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/tab_metrics.html">tab_metrics</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"idx_cg_adoption"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>To reverse items, provide a selection of columns to the
<code>cols.reverse</code>-parameter of <code><a href="../reference/add_index.html">add_index()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="factor-and-cluster-analysis">Factor and cluster analysis<a class="anchor" aria-label="anchor" href="#factor-and-cluster-analysis"></a>
</h2>
<p>The easiest way to conduct factor analysis or cluster analyses is to
use the respective parameters in the <code><a href="../reference/report_metrics.html">report_metrics()</a></code>
function.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span>, factors <span class="op">=</span> <span class="cn">TRUE</span>, clusters <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Currently, cluster analysis is performed using kmeans and factor
analysis is a principal component analysis. Setting the parameters to
true, automatically generates scree plots and selects the number of
factors or clusters. Alternatively, you can explicitly specify the
numbers.</p>
<p><strong>Add factor or cluster analysis results to the original
data</strong></p>
<p>If you want to work with the results, use <code><a href="../reference/add_factors.html">add_factors()</a></code>
and <code><a href="../reference/add_clusters.html">add_clusters()</a></code> respectively. For factor analysis, new
columns prefixed with “fct_” are created to store the factor loadings
based on the specified number of factors. For clustering, an additional
column prefixed with “cls_” is added that assigns each observation to a
cluster number.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/add_factors.html">add_factors</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span>, k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"fct_"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Once you have added factor or cluster columns to your data set, you
can use them with the report functions:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/add_factors.html">add_factors</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span>, k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">fct_cg_adoption_1</span>, <span class="va">fct_cg_adoption_2</span>, metric <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/add_clusters.html">add_clusters</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span>, k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/report_counts.html">report_counts</a></span><span class="op">(</span><span class="va">sd_gender</span>, <span class="va">cls_cg_adoption</span>, prop <span class="op">=</span> <span class="st">"cols"</span><span class="op">)</span></span></code></pre></div>
<p>After explicitly adding factor or cluster columns, you can inspect
the analysis results using <code><a href="../reference/factor_tab.html">factor_tab()</a></code>,
<code><a href="../reference/factor_plot.html">factor_plot()</a></code> or <code><a href="../reference/cluster_tab.html">cluster_tab()</a></code>,
<code><a href="../reference/cluster_plot.html">cluster_plot()</a></code>.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/add_factors.html">add_factors</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span>, k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/factor_tab.html">factor_tab</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"fct_"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>Automatically determine the number of factors or
clusters</strong></p>
<p>To automatically determine the optimal number of factors or clusters
based on diagnostics, set k = NULL.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/add_factors.html">add_factors</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"cg_adoption"</span><span class="op">)</span>, k <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/factor_tab.html">factor_tab</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"fct_cg_adoption"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="modeling-regression-and-analysis-of-variance">Modeling: Regression and Analysis of Variance<a class="anchor" aria-label="anchor" href="#modeling-regression-and-analysis-of-variance"></a>
</h2>
<p>Modeling in the statistical sense is predicting an outcome (dependent
variable) from one or multiple predictors (independent variables).</p>
<p>The report_metrics() function calculates a linear model if the model
parameter is TRUE. You provide the variables in the following
parameters:</p>
<ul>
<li>Dependent metric variable: first parameter after the dataset (cols
parameter).<br>
</li>
<li>Independent categorical variables: a tidy column selection in the
second parameter (cross parameter).<br>
</li>
<li>Independent metric variables: a tidy column selection in the third
parameter (metric parameter.<br>
</li>
<li>Interaction effects: interactions-parameter with a vector of
multiplication terms
(e.g. <code>interactions = c(sd_age * sd_gender)</code>)</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">|&gt;</span></span>
<span> <span class="fu"><a href="../reference/filter.html">filter</a></span><span class="op">(</span><span class="va">sd_gender</span> <span class="op">!=</span> <span class="st">"diverse"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span> <span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span></span>
<span>   <span class="va">use_work</span>, </span>
<span>   cross <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">sd_gender</span>, <span class="va">adopter</span><span class="op">)</span>, </span>
<span>   metric <span class="op">=</span> <span class="va">sd_age</span>,</span>
<span>   model <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>   diagnostics <span class="op">=</span> <span class="cn">TRUE</span></span>
<span> <span class="op">)</span></span></code></pre></div>
<p>Four selected diagnostic plots are generated if the
diagnostics-parameter is TRUE:</p>
<ul>
<li>Residual vs. fitted: Residuals should be evenly distributed
vertically. Horizontally, they should follow the straight line.
Otherwise this could be an indicator for heteroscedasticity,
non-linearity or auto-correlationb.</li>
<li>Scale-location plot: Points should be evenly distributed, without a
pattern, as in the residual plot.</li>
<li>Q-Q-Plot of fitted values: All dots should be located on a straight
line. Otherweise, this may indicate non-linearity or that residuals are
not normally distributed.</li>
<li>Cooks’ distance plot: High values indicate that single cases
influence the model disproportionally. Rule of thumb: Cook’s distance
&gt; 1 is a problem.</li>
</ul>
<p>To work with the predicted values, use add_model() instead of the
report function. This will add a new variable prefixed with
<code>prd_</code> holding the target scores.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="va">ds</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/add_model.html">add_model</a></span><span class="op">(</span></span>
<span>   <span class="va">use_work</span>,</span>
<span>   categorical <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">sd_gender</span>, <span class="va">adopter</span><span class="op">)</span>, </span>
<span>   metric <span class="op">=</span> <span class="va">sd_age</span></span>
<span> <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/report_metrics.html">report_metrics</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">use_work</span>, <span class="va">prd_use_work</span>, metric <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p>There are two functions to get the regression table or plot from the
new column:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/model_metrics_tab.html">model_tab</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">prd_use_work</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/model_metrics_plot.html">model_plot</a></span><span class="op">(</span><span class="va">ds</span>, <span class="va">prd_use_work</span><span class="op">)</span></span></code></pre></div>
<p>By default, p values are adjusted to the number of tests by
controlling the false discovery rate (fdr). Set the adjust-parameter to
FALSE for disabling p correction.</p>
<div class="section level3">
<h3 id="reliability-scores-and-classification-performance-indicators">Reliability scores (and classification performance indicators)<a class="anchor" aria-label="anchor" href="#reliability-scores-and-classification-performance-indicators"></a>
</h3>
<p>In content analysis, reliability is usually checked by coding the
cases with different persons and then calculating the overlap. To
calculate reliability scores, prepare one data frame for each
person:</p>
<ul>
<li>All column names in the different data frames should be
identical.<br>
Codings must be either binary (TRUE/FALSE) or contain a fixed number of
values such as “sports”, “politics”, “weather”.<br>
</li>
<li>Add a column holding initials or the name of the coder.<br>
</li>
<li>One column must contain unique IDs for each case, e.g. a running
case number.</li>
</ul>
<p>Next, you row bind the data frames. The columns for coder and ID make
sure that each coding is uniquely identified and can be related to the
cases and coders.</p>
<pre><code><span><span class="va">data_coded</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="va">data_coder1</span>,</span>
<span>  <span class="va">data_coder2</span></span>
<span><span class="op">)</span></span></code></pre>
<p>The final data, for example, looks like:</p>
<table class="table">
<thead><tr class="header">
<th>case</th>
<th>coder</th>
<th>topic_sports</th>
<th>topic_weather</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>anne</td>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr class="even">
<td>2</td>
<td>anne</td>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr class="odd">
<td>3</td>
<td>anne</td>
<td>FALSE</td>
<td>TRUE</td>
</tr>
<tr class="even">
<td>1</td>
<td>ben</td>
<td>TRUE</td>
<td>TRUE</td>
</tr>
<tr class="odd">
<td>2</td>
<td>ben</td>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr class="even">
<td>3</td>
<td>ben</td>
<td>FALSE</td>
<td>TRUE</td>
</tr>
</tbody>
</table>
<p>Calculating reliability is straight forward with report_counts():</p>
<ul>
<li>Provide the data to the first parameter.<br>
</li>
<li>Add the column with codings (or a selection of multiple columns,
e.g. using <code><a href="../reference/starts_with.html">starts_with()</a></code>) to the second parameter.<br>
</li>
<li>Set the the third parameter to the column name with coder names or
initials.<br>
</li>
<li>Set the ids-parameter to the column that contains case IDs or case
numbers (this tells the volker-package which cases belong
together).<br>
</li>
<li>Set the agree-parameter to “reliability” to request reliability
scores.</li>
</ul>
<p>Example:</p>
<pre><code><span><span class="fu"><a href="../reference/report_counts.html">report_counts</a></span><span class="op">(</span><span class="va">data_coded</span>, <span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"topic_"</span><span class="op">)</span>, <span class="va">coder</span>, ids <span class="op">=</span> <span class="va">case</span>, prop<span class="op">=</span><span class="st">"cols"</span>, agree <span class="op">=</span> <span class="st">"reliability"</span><span class="op">)</span></span></code></pre>
<p>Alternatively, if you are only interested in the scores, not a plot,
you get them using agree_tab. Hint: You may abbreviate the reliability
value.</p>
<pre><code><span><span class="fu"><a href="../reference/agree_tab.html">agree_tab</a></span><span class="op">(</span><span class="va">data_coded</span>, <span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"topic_"</span><span class="op">)</span>, <span class="va">coder</span>, ids <span class="op">=</span> <span class="va">case</span>, method<span class="op">=</span><span class="st">"reli"</span><span class="op">)</span></span></code></pre>
<p>Further, you can request classification performance indicators
(accuracy, precision, recall, F1) with the same function by setting the
method to “classification” (may be abbreviated). Use this option if you
compare manual codings to automated codings (classifiers, large language
models). By default, you get macro statistics (average precision, recall
and f1 over categories).</p>
<p>Give you have multiple values in on column, you may focus one
category to get micro statistics:</p>
<pre><code><span><span class="fu"><a href="../reference/agree_tab.html">agree_tab</a></span><span class="op">(</span><span class="fu"><a href="../reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"topic_"</span><span class="op">)</span>, <span class="va">coder</span>, ids <span class="op">=</span> <span class="va">case</span>, method <span class="op">=</span> <span class="st">"class"</span>, category <span class="op">=</span> <span class="st">"catcontent"</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="the-mystery-of-missing-values">The mystery of missing values<a class="anchor" aria-label="anchor" href="#the-mystery-of-missing-values"></a>
</h2>
<p>Cases with missing values, by default, are omitted in all methods.
Thus, the calculations are only based on cases with complete values in
the selected columns.</p>
<p>Furthermore, each function first cleans the values:</p>
<ul>
<li>Residual levels defined in the <code>VLKR_NA_LEVELS</code> constant
are recoded to missing values (“[NA] nicht beantwortet”, “[NA] keine
Angabe”, “[no answer]” and “keine Angabe”).<br>
</li>
<li>Residual numeric values defined in the <code>VLKR_NA_NUMBERS</code>
constant are recoded to missing values (-9, -2, and -1).</li>
</ul>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">volker</span><span class="fu">:::</span><span class="va"><a href="../reference/VLKR_NA_LEVELS.html">VLKR_NA_LEVELS</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "[NA] nicht beantwortet" "[NA] keine Angabe"      "[no answer]"           </span></span>
<span><span class="co">#&gt; [4] "keine Angabe"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">volker</span><span class="fu">:::</span><span class="va"><a href="../reference/VLKR_NA_NUMBERS.html">VLKR_NA_NUMBERS</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -9 -2 -1</span></span></code></pre></div>
<p>The output always contains information about how many cases were
removed due to missing values. You have three options to treat
missings:</p>
<ol style="list-style-type: decimal">
<li>Disable recoding by setting the <code>clean</code>-parameter of the
functions to <code>FALSE</code>.<br>
</li>
<li>Override the values in VLKR_NA_LEVELS and VLKR_NA_NUMBERS by calls
such as <code>options(vlkr.na.levels=c("Not answered"))</code> or
<code>options(vlkr.na.numbers=c(-2,-9))</code>. If you set the value to
<code>FALSE</code>, no values are recoded.<br>
</li>
<li>When analysing items, use pairwise complete data by calling
<code>options(vlkr.na.omit=FALSE)</code> (maximal information from all
items).</li>
</ol>
</div>
<div class="section level2">
<h2 id="whats-behind-the-scenes">What’s behind the scenes?<a class="anchor" aria-label="anchor" href="#whats-behind-the-scenes"></a>
</h2>
<p>The volker-package is based on standard methods for data handling and
visualisation. You could produce all outputs on your own. The package
just makes your code dry - don’t repeat yourself - and wraps often used
snippets into a simple interface.</p>
<p>Report functions call subsidiary tab, plot and effect functions,
which in turn call functions specifically designed for the provided
column selection. Open the package help to see, to which specific
functions the report functions are redirected.</p>
<p>Console and markdown output is pimped by specific print- and
knit-functions. To make this work, the cleaned data, produced plots,
tables and markdown snippets gain new classes (<code>vlkr_df</code>,
<code>vlkr_plt</code>, <code>vlkr_tbl</code>, <code>vlkr_list</code>,
<code>vlkr_rprt</code>).</p>
<p>The volker-package makes use of common tidyverse functions.
Basically, most outputs are generated by three functions:</p>
<ul>
<li>
<code><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count()</a></code> is used to produce counts<br>
</li>
<li>
<code>skim()</code> is used to produce metrics<br>
</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot()</a></code> is used to assemble plots.</li>
</ul>
<p>Statistical tests, clustering and factor analysis are largely based
on the stats, psych, car and effectsize packages.</p>
<p>Thanks to all the maintainers, authors and contributors of the
packages that make the world of data a magical place.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jakob Jünger, Henrieke Kotthoff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
